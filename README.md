# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ml-—Å–µ—Ä–≤–∏—Å

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ML —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Python

**[–í—ã–±—Ä–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö](https://www.kaggle.com/datasets/imgowthamg/car-price)** –¥–ª—è –∑–∞–¥–∞—á–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ü–µ–Ω—ã –∞–≤—Ç–æ–º–æ–±–∏–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞—Ç—Ç—Ä–∏–±—É—Ç–æ–≤

## [**–°–º–æ—Ç—Ä–µ—Ç—å –¥–µ–º–æ —Ä–∞–±–æ—Ç—ã**](https://drive.google.com/file/d/1SI6vH_cXoaSQreiKyVk6Fx_P_aUUVcqE/view?usp=sharing)

## –û–±—É—á–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

`sklearn.linear_models.LinearRegression`

`sklearn.ensemble.GradientBoostingRegressor`

`sklearn.ensemble.RandomForestRegressor`


## –ó–∞–ø—É—Å–∫

1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –ø–æ–¥–æ–±–∏–∏ `.env.template`.
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–æ—É—Ç–±—É–∫ —Å –æ–±—É—á–µ–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π.
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `sudo docker compose up -d`.


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ compose –ø—Ä–æ–µ–∫—Ç–∞
- **postgres**. –†–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
- **redis**. REDIS –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π
- **worker**. –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ worker –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å
- **app**. CORE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI
- **streamlit**. –í–µ–±-–º–æ—Ä–¥–∞


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π


```plain
.
‚îú‚îÄ‚îÄ docker  # –î–æ–∫–µ—Ä—Ñ–∞–π–ª—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.app
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.streamlit
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.worker
‚îú‚îÄ‚îÄ ml  # –ù–æ—É—Ç–±—É–∫ —Å –æ–±—É—á–µ–Ω–∏–µ–º, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ preprocessing.ipynb
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config  # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.py
‚îÇ   ‚îú‚îÄ‚îÄ core
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entities
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prediction_event.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ predictor.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_balance.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prediction_event_repository.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ predictor_repository.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_balance_repository.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_repository.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ use_cases
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ prediction_event_use_cases.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ predictor_use_cases.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user_balance_use_cases.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ user_use_cases.py
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models  # –ú–æ–¥–µ–ª–∏ –¥–ª—è SQLAlchemy
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prediction_event_model.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ predictor_model.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_balance_model.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_model.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prediction_event_repository_impl.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ predictor_repository_impl.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_balance_repository_impl.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_repository_impl.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks   # –¢–∞—Å–∫–∏ –¥–ª—è –æ—á–µ—Ä–µ–¥–∏ –≤ Redis
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ model_predict.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ web
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controllers
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ get_current_user.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ predictor_controller.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ user_balance_controller.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ user_controller.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ models  # API –º–æ–¥–µ–ª–∏ –≤ Pydantic
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ predict_models.py
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ user_balance_models.py
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ user_models.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ   ‚îî‚îÄ‚îÄ utils.py
‚îú‚îÄ‚îÄ streamlit_app   # Streamlit –≤–µ–±
‚îÇ   ‚îú‚îÄ‚îÄ main.py     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Streamlit
‚îÇ   ‚îú‚îÄ‚îÄ pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1_start.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2_history.py
‚îÇ   ‚îú‚îÄ‚îÄ post_requests.py
‚îî‚îÄ‚îÄ workers
    ‚îî‚îÄ‚îÄ rq_worker.py    # Worker –¥–ª—è –∑–∞–ø—É—Å–∫–∞
```

## FastAPI Backend

### –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- `predictors`. –¢–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ (—Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, –∏—Ö —Ü–µ–Ω–∞ –≤ –∫—Ä–µ–¥–∏—Ç–∞—Ö)
- `users`. –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–∞—è –∏—Ö credentials
- `balances`. –¢–∞–±–ª–∏—Ü–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º —Å—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `prediction_events`. –¢–∞–±–ª–∏—Ü–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (one-to-many).


```sql
CREATE TABLE predictors (
	id SERIAL NOT NULL, 
	model_name VARCHAR(50) NOT NULL, 
	price INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (model_name)
);

CREATE TABLE users (
	id SERIAL NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	hashed_password VARCHAR(128) NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (email)
);

CREATE TABLE balances (
	user_id INTEGER NOT NULL, 
	amount INTEGER NOT NULL, 
	PRIMARY KEY (user_id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
);

CREATE TABLE prediction_events (
	id SERIAL NOT NULL, 
	model_name VARCHAR(50) NOT NULL, 
	job_id VARCHAR(50) NOT NULL, 
	created_at VARCHAR(50) NOT NULL, 
	finished_at VARCHAR(50), 
	result FLOAT, 
	user_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (job_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
);
```
---

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–µ—Ç `name` + `email` + `password`.
2. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î, –ø–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è. –ü–æ API –ø–∞—Ä–æ–ª—å –Ω–µ —Å–≤–µ—Ç–∏—Ç—Å—è –Ω–∏–≥–¥–µ.
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, —Å–æ–∑–¥–∞–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω —Å–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤ 30 –º–∏–Ω—É—Ç –Ω–∞ —Å–µ—Å—Å–∏—é.
4. –ü—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º –¥–æ—Å—Ç—É–ø–µ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å.
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å.
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö `scikit-learn` –º–æ–¥–µ–ª–µ–π –∏ –∏—Ö —Ü–µ–Ω—É –≤ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ. –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å –¥–æ—Ä–æ–∂–µ.
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ —Å–≤–æ–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è.
9. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
10. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—É—Å–∫–æ–≤ –∏ –µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
11. –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –ë–î.
12. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
---

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ–ø—ã—Ç–∫—É –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ–ø—ã—Ç–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `request body` –±–ª–∞–≥–æ–¥–∞—Ä—è pydantic API –º–æ–¥–µ–ª—è–º

---
### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### üî∏ POST `/sign_up`

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request Body:**

```json
{
  "name": "John",
  "email": "john@example.com",
  "password": "yourpassword"
}
```

**Response:**

```json
{
  "name": "John",
  "email": "john@example.com"
}
```

---

#### üî∏ POST `/sign_in`

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request Body:**

```json
{
  "email": "john@example.com",
  "password": "yourpassword"
}
```

**Response:**

```json
{
  "access_token": "JWT_TOKEN",
  "token_type": "bearer",
  "name": "John",
  "email": "john@example.com"
}
```

---

### üí∞ –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### üî∏ GET `/balance`

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Response:**

```json
{
  "amount": 50
}
```

---

#### üî∏ POST `/balance`

–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Request Body:**

```json
{
  "new_amount": 100
}
```

**Response:**

```json
{
  "amount": 100
}
```

---

### üìä –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

#### üî∏ GET `/predictors`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Response:**

```json
{
  "models": [
    {"model_name": "linear_regression", "price": 10},
    {"model_name": "random_forest", "price": 40}
  ]
}
```

---

#### üî∏ POST `/predict`

–ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è.

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Request Body:**

```json
{
  "model_name": "linear_regression",
  "data": {
    "horsepower": [110],
    "fueltype": ["gas"],
    "...": "..."
  }
}
```

**Response:**

```json
{
  "job_id": "rq:job:abc123"
}
```

---

#### üî∏ GET `/predict`

–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è.

**Request Body:**

```json
{
  "job_id": "rq:job:abc123",
}
```

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Response:**

```json
{
  "job_id": "rq:job:abc123",
  "status": "finished",
  "model_name": "linear_regression",
  "created_at": "10/05/2025, 15:00:00",
  "finished_at": "10/05/2025, 15:00:05",
  "result": 13456.8
}
```

---

#### üî∏ GET `/history`

–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Headers:**

```
Authorization: Bearer <JWT_TOKEN>
```

**Response:**

```json
{
  "job_ids": [
    "rq:job:abc123",
    "rq:job:def456"
  ]
}
```
---

## Streamlit Frontend

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞.
2. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–º—É –±–∞–ª–∞–Ω—Å—É –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å –≤–≤–æ–¥–æ–º –¥–∞–Ω–Ω—ã—Ö, –≤—ã–±–æ—Ä–æ–º –º–æ–¥–µ–ª–µ–π –∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–æ–≤.
3. –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏.
4. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –≤—Å–µ –∞—Ç—Ç—Ä–∏–±—É—Ç—ã –∞–≤—Ç–æ–º–æ–±–∏–ª—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–Ω—ã, –∑–Ω–∞—á–µ–Ω–∏—è –º–Ω–æ–≥–∏—Ö –∑–∞–¥–∞—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.

---
## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ML-—Å–µ—Ä–≤–∏—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–µ–∫—Ç—É, –æ–±–µ—Ä–Ω—É—Ç –≤ docker compose –ø—Ä–æ–µ–∫—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —á—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç FastAPI.

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—É—Ç–µ–π —É–ª—É—á—à–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –£–ª—É—á—à–µ–Ω–∏–µ UI/UX, —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ user-friendly.
2. –†–∞—Å—à–∏—Ä–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—É—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞ –∏ —Ç.–ø.).
